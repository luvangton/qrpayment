/* ===== RESET ===== */
* { box-sizing: border-box; }
body {
  margin: 0;
  padding: 0;
  background: #b0005a;
  display: flex;
  justify-content: center;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
}

/* ===== APP FRAME ===== */
.app {
  width: 375px;
  height: 780px;
  background: linear-gradient(180deg,#b0005a,#d81b7d);
  border-radius: 24px;
  position: relative;
  overflow: hidden;
}

/* ===== HEADER ===== */
/* ===== HEADER (OPTIMIZED) ===== */
.header {
  height: 46px;
  padding: 10px 16px 0 16px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  color: #fff;
}

.header-left {
  display: flex;
  align-items: center;
  gap: 10px;
}

.header-title {
  font-size: 18px;
  font-weight: 600;
}

.header-right {
  display: flex;
  align-items: center;
  gap: 8px;
}

/* icon chung */
.icon-btn {
  width: 30px;
  height: 30px;
  border-radius: 50%;
  background: rgba(0,0,0,0.25);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  cursor: pointer;
}

/* ===== QR refresh ===== */

.refresh {
  color: #ff4fa3;
  font-weight: 600;
  margin-left: 6px;
  cursor: pointer;
}

.refresh.hidden {
  display: none;
}

/* ===== QR refresh visual feedback ===== */
.qr-box.refreshing {
  animation: qrFlash .4s ease;
}

@keyframes qrFlash {
  0%   { box-shadow: 0 0 0 1px #eee; }
  50%  { box-shadow: 0 0 0 3px #ff4fa3; }
  100% { box-shadow: 0 0 0 1px #eee; }
}

/* ===== CARD ===== */
.card {
  margin: 12px;
  background: #fff;
  border-radius: 20px;
  padding: 12px;
}
.xu-banner {
  background: #eef6ff;
  border-radius: 12px;
  padding: 10px 16px;
  font-size: 14px;
  font-weight: 400;
  margin-bottom: 12px;
  transition: background .25s ease, color .25s ease;
}
.barcode {
  height: 36px;
  background: repeating-linear-gradient(
    90deg,#000 0,#000 2px,#fff 2px,#fff 4px
  );
  margin-bottom: 16px;
}
.qr-wrapper { display: flex; justify-content: center; }
.qr-box {
  position: relative;
  width: 180px;
  height: 180px;
  padding: 8px;
  border-color: #f5f6f7;
  border-style: solid;
}

.qr-box img {
  width: 100%;
  height: 100%;
  display: block;
}

.qr-color-layer {
  position: absolute;
  inset: 0;
  background: transparent;
  mix-blend-mode: multiply;
  pointer-events: none;
  transition: background .25s ease;
}

.countdown {
  text-align: center;
  font-size: 12px;
  color: #888;
  margin: 10px 10px 0px 10px;
}
/* ===== VOUCHER TOGGLE ===== */
/* ===== VOUCHER BASE ===== */
.voucher {
  border-radius: 14px;
  padding: 9px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  cursor: pointer;
  margin: 12px 0;
}

.voucher-left {
  display: flex;
  gap: 10px;
  align-items: center;
}

.voucher-icon {
  width: 22px;
  height: 22px;
  object-fit: contain;
  border-radius: 6px;
  flex-shrink: 0;
}

.voucher-title {
  font-size: 12px;
  font-weight: 600;
}

.voucher-desc {
  font-size: 10px;
  margin-top: 2px;
}

.voucher-action {
  font-size: 12px;
  font-weight: 600;
  white-space: nowrap;
}

/* ===== STATE 1: AUTO APPLY ON ===== */
.voucher.state-auto-on {
  background: #eef6ff;
}

.voucher.state-auto-on .voucher-title {
  color: #1a73e8;
}

.voucher.state-auto-on .voucher-action {
  color: #ff4fa3;
}

/* ===== STATE 2: APPLYING ===== */
.voucher.state-applying {
  background: #f1fbf4;
}

.voucher.state-applying .voucher-title {
  color: #1fa750;
}

.voucher.state-applying .voucher-action {
  color: #ff4fa3;
}

/* ===== STATE 3: AUTO OFF ===== */
.voucher.state-auto-off {
  background: #f6f7f8;
}

.voucher.state-auto-off .voucher-title {
  color: #333;
}

.voucher.state-auto-off .voucher-desc {
  color: #888;
}

.voucher.state-auto-off .voucher-action {
  color: #ff4fa3;
}


/* Text state cho xu-toggle */
.xu-toggle {
  display: flex;
  align-items: center;          /* QUAN TRá»ŒNG */
  justify-content: space-between;
  gap: 12px;
  margin-top: 10px;
  font-size: 12px;
}

.xu-toggle.off {
  color: #999;
}

.xu-toggle.on {
  color: #111;
}

.xu-toggle.on b {
  font-weight: 700;
}

.xu-toggle.off b {
  font-weight: 600;
}
.switch {
  width: 42px;
  height: 24px;
  background: #ddd;
  border-radius: 12px;
  position: relative;
  transition: background .2s ease;
  cursor: pointer;
}

.switch::after {
  content:"";
  width: 20px;
  height: 20px;
  background: #fff;
  border-radius: 50%;
  position: absolute;
  top: 2px;
  left: 2px;
  transition: left .2s ease;
}

/* ON state */
.switch.on {
  background: #ff4fa3;
}

.switch.on::after {
  left: 20px;
}

/* ===== ACCOUNT PREVIEW ===== */
.account-section {
  margin: 12px;
  background: #fff;
  border-radius: 20px;
  padding: 12px;
}
.account-header {
  display: flex;
  justify-content: space-between;
  font-weight: 600;
  margin-bottom: 12px;
}
.account-header span:last-child {
  color: #ff4fa3;
  cursor: pointer;
}
.account-list {
  display: flex;
  gap: 12px;
  overflow-x: auto;
}
.account-card {
  min-width: 160px;
  flex-shrink: 0;
  border: 2px solid #eee;
  border-radius: 14px;
  padding: 12px;
  font-size: 14px;
  font-weight: 400;
}
.card-info {
  font-weight: 400;
}
.account-card.active { 
  border-color: #ff4fa3; 
  font-weight: 700;
}

/* ===== OVERLAY ===== */
.overlay {
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,.45);
  opacity: 0;
  pointer-events: none;
  transition: .25s;
  z-index: 90;
}
.overlay.show {
  opacity: 1;
  pointer-events: auto;
}

/* ===== BOTTOM SHEET ===== */
.sheet {
  position: absolute;
  left: 0;
  bottom: -100%;
  width: 100%;
  background: #fff;
  border-radius: 20px 20px 0 0;
  transition: bottom .3s ease;
  z-index: 100;
}
.sheet.show { bottom: 0; }
.sheet-header {
  padding: 12px 16px;
  border-bottom: 1px solid #eee;
  display: flex;
  justify-content: space-between;
  font-weight: 600;
}
.sheet-body { max-height: 70vh; overflow-y: auto; }
.account-row {
  display: flex;
  gap: 12px;
  padding: 14px 16px;
  border-bottom: 1px solid #f0f0f0;
}
.account-row.active {
  border: 2px solid #ff4fa3;
  border-radius: 14px;
  margin: 8px;
}
.account-row.disabled { opacity: .4; }
.account-icon {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background: #eee;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
}
.account-info { flex: 1; }

/* ===== BOTTOM NAV ===== */
.bottom-nav {
  position: absolute;
  left: 0;
  bottom: 0;
  width: 100%;
  height: 78px;
  background: #fff;
  display: flex;
  justify-content: space-around;
  align-items: center;
  border-top: 1px solid #eee;
}
.nav-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  font-size: 12px;
  color: #999;
  cursor: pointer;
}
.nav-item.active { color: #ff4fa3; font-weight: 600; }
.nav-icon { font-size: 28px; margin-bottom: 6px; }
/* ===== COMING SOON POPUP ===== */
.coming-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.45);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 999;
}

.coming-overlay.show {
  display: flex;
}

.coming-popup {
  background: #fff;
  border-radius: 16px;
  padding: 20px;
  width: 260px;
  text-align: center;
}

.coming-title {
  font-size: 18px;
  font-weight: 600;
  margin-bottom: 8px;
}

.coming-desc {
  font-size: 14px;
  color: #666;
  margin-bottom: 16px;
}

.coming-btn {
  background: #ff4fa3;
  color: #fff;
  border: none;
  border-radius: 12px;
  padding: 10px 0;
  width: 100%;
  font-size: 14px;
  cursor: pointer;
}

.coming-btn:active {
  opacity: 0.8;
}
